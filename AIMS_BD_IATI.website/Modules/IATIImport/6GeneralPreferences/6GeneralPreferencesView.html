<style>
    .field-selector .field {
        padding: 10px;
    }

    .field-selector {
        text-align: center;
    }
</style>
<div role="tabpanel" class="tab-pane active" id="preferences">
    <div class="row">
        <div class="col-md-12">
            <h2>
                <span class="glyphicon glyphicon-link" aria-hidden="true"></span>
                6. Set general import preferences
            </h2>
            <p class="lead">
                Please specify whether you would generally
                prefer to take data from IATI or from the AIMS (you will
                only have to do this once for your projects). You can
                see some sample data below to help you decide. Later, you
                will be able to adjust the import settings for individual
                projects.
            </p>
            <p class="lead">
                You can adjust whether data is taken from IATI or from
                the AIMS by clicking on the relevant data source for each
                field. Whichever side is marked as
                <span class="label label-success">green</span> will be
                used as the default preference for your projects.
            </p>
            <hr />

            <div class="row field-selector">
                <div class="col-md-4 col-md-offset-1">
                    <h3>IATI</h3>
                </div>
                <div class="col-md-4 col-md-offset-1">
                    <h3>AIMS</h3>
                </div>
            </div>
            <div class="row" ng-repeat="m in model">
                <div class="col-md-12">
                    <div class="row field-selector">
                        <div class="col-md-4 col-md-offset-1 field alert alert-success" ng-class="m.IATICSS">
                            <p>
                                <span class="label label-default">{{m.Field}}</span>
                            </p>
                            <p class="lead">
                                {{m.IATIValue}}
                            </p>
                        </div>
                        <div class="col-md-4 col-md-offset-1 field alert alert-danger" ng-class="m.AIMSCSS">
                            <p>
                                <span class="label label-default">{{m.Field}}</span>
                            </p>
                            <p class="lead">
                                {{m.AIMSValue}}
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="row field-selector">
                        <div class="col-md-4 col-md-offset-1 field alert alert-success">
                            <p>
                                <span class="label label-default">Financial data</span>
                            </p>
                            <p>
                                <br />
                                <dl class="dl-horizontal">
                                    <dt>Commitments</dt>
                                    <dd>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
                                                USD 45,000
                                            </div>
                                        </div>
                                    </dd>
                                    <dt>Disbursements</dt>
                                    <dd>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="95.55" aria-valuemin="0" aria-valuemax="100" style="width: 95.55%;">
                                                USD 43,000
                                            </div>
                                        </div>
                                    </dd>
                                </dl>

                            <p class="well">
                                NB: we may want to show some nice graph or
                                something here to show the breakdown of
                                transactions. Nothing too complicated though.
                                Perhaps just a breakdown per year? But we can
                                think about this later.
                            </p>
                            </p>
                        </div>
                        <div class="col-md-4 col-md-offset-1 field alert alert-danger">
                            <p>
                                <span class="label label-default">Financial data</span>
                            </p>
                            <p>
                                <br />
                                <dl class="dl-horizontal">
                                    <dt>Commitments</dt>
                                    <dd>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
                                                USD 45,000
                                            </div>
                                        </div>
                                    </dd>
                                    <dt>Disbursements</dt>
                                    <dd>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" aria-valuenow="66.67" aria-valuemin="0" aria-valuemax="100" style="width: 66.67%;">
                                                USD 30,000
                                            </div>
                                        </div>
                                    </dd>
                                </dl>
                            <p class="well">
                                NB: we may want to show some nice graph or
                                something here to show the breakdown of
                                transactions. Nothing too complicated though.
                                Perhaps just a breakdown per year? But we can
                                think about this later.
                            </p>
                            </p>
                        </div>
                    </div>
                </div>

            </div>


            <hr />
            <p class="well">
                NB: in this sprint, we only have to get import
                working for titles and descriptions. But I wanted to add a
                couple more fields a) so you can see what we'll have
                to do later and b) in case you have spare time!
                <br /><br />
                I would suggest that we set all fields to "IATI" by default
                (i.e. left side is green for all fields) but I set the
                description field to "AIMS" above just as a way of
                demonstrating that a user may want to make different choices.
            </p>

        </div>
    </div>
</div>

<script type="text/javascript">
    alert("sdfg");
    function fadeHalf(event, el) {
        $(el.helper).addClass("drag-active");
        $(el.helper).css("opacity", 0.5);
    }
    function fadeOpaque(event, el) {
        $(el.helper).removeClass("drag-active");
        $(el.helper).css("opacity", 1);
    }
    $(".field-selector .field").click(function (e) {
        if ($(this).hasClass("alert-success")) {
            $(this).removeClass("alert-success")
            .addClass("alert-danger");
            $(this).siblings().removeClass("alert-danger")
            .addClass("alert-success");
        } else {
            $(this).removeClass("alert-danger")
            .addClass("alert-success");
            $(this).siblings().removeClass("alert-success")
            .addClass("alert-danger");
        }
    })
</script>